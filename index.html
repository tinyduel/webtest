<body onLoad="load(); doit();">
<textarea id="box"></textarea><div id ="out"></div>
<button onclick="doit(); save();">Go</button>
<script>function doit()  {
  var x = box.value; out.innerHTML = x};
function save() {
  var save = {
    content: box.value
  }
  localStorage.setItem("save",JSON.stringify(save));
};
function load() {
  var savegame = JSON.parse(localStorage.getItem("save"));
  if (typeof savegame.content !== "undefined") box.value = savegame.content;
};
function sleep(milliseconds) {
  var start = new Date().getTime();
  for (var i = 0; i < 1e7; i++) {
    if ((new Date().getTime() - start) > milliseconds){
      break;
    }
  }
}  
</script>
